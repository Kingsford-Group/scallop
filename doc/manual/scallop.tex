\documentclass{llncs}
%
\usepackage{makeidx}  % allows for indexgeneration
\usepackage{pslatex}
\usepackage{graphicx}
\usepackage{amssymb}
%\usepackage{url}
\usepackage[obeyspaces]{url}

%\makeatletter
%\renewcommand{\section}{%
%  \@startsection{section}{1}{\z@}
%  {-14\p@ plus -5\p@}{4\p@}
%  {\normalfont\bfseries\fontsize{10}{11.5}\boldmath\raggedright\MakeUppercase}}
%\renewcommand{\subsection}{%
%  \@startsection{subsection}{2}{\z@}
%  {-8\p@ plus -3\p@}{2\p@}
%  {\raggedright\boldmath\bfseries\fontsize{9.5}{11.5}}}
%\renewcommand{\@listI}{\leftmargin\leftmargini \topsep\smallskipamount}
%\let\@listi\@listI
%\@listi
%\makeatother

% allow large figures on a page with little text
\renewcommand{\topfraction}{0.99}
\renewcommand{\bottomfraction}{0.99}
\renewcommand{\textfraction}{0.01}

\advance\textheight by 1cm

%
\begin{document}
%
\frontmatter          % for the preliminaries
%
\pagestyle{headings}  % switches on printing of running heads
%\addtocmark{Hamiltonian Mechanics} % additional mark in the TOC
%
%\tableofcontents
%
\mainmatter              % start of the contributions
%
\title{Scallop User Reference}
%
%\titlerunning{trajectory Graphs}  % abbreviated title (for running head) also used for the TOC unless \toctitle is used
%
\author{Mingfu Shao\inst{1} \and Carl Kingsford\inst{1}}
%
%\authorrunning{Mingfu Shao et al.} % abbreviated author list (for running head)
%
\institute{$^1${Computational Biology Department, Carnegie Mellon University}\\
\email{\{mingfu.shao, carlk\}@cs.cmu.edu}}

\maketitle              % typeset the title of the contribution

\section{Installation}
To install Scallop, you need to first download/compile a few sofware packages~(Samtools,
Boost, and GUROBI), setup the corresponding environmental variables, and then
compile the source code of Scallop.

\subsection{Install Samtools}
Download Samtools from \url{http://www.htslib.org/} with verion 1.2 or higher.
Compile it to generate the htslib file \url{libhts.a}. Set environment variable
\url{HTSLIB} to indicate the directory of \url{libhts.a}. 
For example, for Unix plateforms, add the following
statement to the file \url{~/.bash_profile}:\\
\makebox[0.9\textwidth][l]{\hspace{0.618cm}\url{export HTSLIB="/directory/to/your/htslib/htslib-1.2.1"} }

\subsection{Install Boost}
Download Boost from \url{http://www.boost.org}. Uncompress it
somewhere~(compiling and installing are not necessary). Set environment
variable \url{BOOST_HOME} to indicate the directory of Boost.
For example, for Unix plateforms, add the following
statement to the file \url{~/.bash_profile}:\\
\makebox[0.9\textwidth][l]{\hspace{0.618cm}\url{export BOOST_HOME="/directory/to/your/boost/boost_1_60_0"} }

\subsection{Install GUROBI}
Download GUROBI from \url{http://www.gurobi.com/}~(compiling and installing are not required).
You need to apply an academic license to use
the full features of GUROBI~(Please refer to the GUROBI documentation for more information.)
After that, set two environment
variables, \url{GUROBI_HOME} and \url{GRB_LICENSE_FILE}, which indicates the directory of GUROBI, and
the location of your license file, respectively.
For example, for Unix plateforms, add the following
two statements to the file \url{~/.bash_profile}:\\
\makebox[0.9\textwidth][l]{\hspace{0.618cm}\url{export GUROBI="/directory/to/your/gurobi/linux64"} }\\
\makebox[0.9\textwidth][l]{\hspace{0.618cm}\url{export GRB_LICENSE_FILE="/location/of/your/license/gurobi.lic"} }

\subsection{Compile Scallop}
Get the source code of Scallop through \url{git}:\\
\makebox[0.9\textwidth][l]{\hspace{0.618cm}\url{$git clone git@github.com:shaomingfu/scallop.git .} }\\
Execute the following commands to generate \url{Makefile} and compile:\\
\makebox[0.9\textwidth][l]{\hspace{0.618cm}\url{$cd src} }\\
\makebox[0.9\textwidth][l]{\hspace{0.618cm}\url{$aclocal} }\\
\makebox[0.9\textwidth][l]{\hspace{0.618cm}\url{$autoconf} }\\
\makebox[0.9\textwidth][l]{\hspace{0.618cm}\url{$autoheader} }\\
\makebox[0.9\textwidth][l]{\hspace{0.618cm}\url{$automake -a} }\\
\makebox[0.9\textwidth][l]{\hspace{0.618cm}\url{$./configure } }\\
\makebox[0.9\textwidth][l]{\hspace{0.618cm}\url{$make} }\\
The executable file \url{scallop} will be present at \url{src/src}.
You might want to link it into \url{bin} through\\
\makebox[0.9\textwidth][l]{\hspace{0.618cm}\url{$cd bin} }\\
\makebox[0.9\textwidth][l]{\hspace{0.618cm}\url{$ln -sf ../src/src/scallop .} }

\section{Command line}
The usage of Scallop is as follows:\\
\makebox[0.9\textwidth][l]{\hspace{0.618cm}\url{$./scallop <config-file> <bam-file>}}\\
There is an example for config-file \url{example.config} at the directory \url{bin}.
The bam-file is the reads/reference alignment file that can be generated by TopHat or Bowtie.
{\bf Note:} we assume that the given bam-file has already been sorted.
If not, you can do that using samtools:\\
\makebox[0.9\textwidth][l]{\hspace{0.618cm}\url{$samtools sort your.bam -o prefix} }

Currently two files will be generated by scallop:
the file with name \url{greedy.gtf} gives the predicted transcripts using the greedy algorithm;
the file with name \url{iterat.gtf} gives the predicted transcripts using the iterated
algorithm.

\end{document}
